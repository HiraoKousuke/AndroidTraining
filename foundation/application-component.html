<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<h1 id="-">アクティビティとは？</h1>
		<h2 id="1-">1. アクティビティとは？</h2>
		<ul>
		<li>UI を持ち1つの画面を現すコンポーネント。  </li>
		<li>フォアグラウンドで実行状態、バックグラウンドで停止状態のように、見える(触れる)状態によるライフサイクルを持つ。</li>
		</ul>
		<h2 id="2-">2. アクティビティの構成要素</h2>
		<ul>
		<li>アクティビティ自体は Java のクラスで、そこに UI部品（これも Java クラス）を追加することで画面が作られている。  </li>
		<li><p>アクティビティを構成する UI 部品としては大きく2種類がある。</p>
		<ul>
		<li><p>『ビュー』</p>
		<ul>
		<li>テキスト、ボタン、画像などの UI として形状を持つ部品</li>
		</ul>
		</li>
		<li><p>『レイアウト』</p>
		<ul>
		<li>UI としての形状を持たずビューをグループ化し表示位置を制御する部品</li>
		</ul>
		</li>
		</ul>
		</li>
		</ul>
		<p>※イメージとして Activity 内にビュー、レイアウトのインスタンスが階層構造で追加されている感じ。XML の DOM と同じと考えても良い。  </p>
		<pre class="editor-colors lang-text"><div class="line"><span class="text plain"><span class="meta paragraph text"><span>Activity</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>Layout</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>View1</span></span></span></div><div class="line"><span class="text plain"><span class="meta paragraph text"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;View2</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>Layout</span></span></span></div><div class="line"><span class="text plain"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta paragraph text"><span>View3</span></span></span></div></pre><ul>
		<li>アクティビティに UI 部品を追加する方法は2つある。<ol>
		<li>UI 部品の配置を記述したXMLファイル(レイアウトファイル)で追加する方法。</li>
		<li>UI 部品の Java クラスのインスタンスを生成し追加する方法。</li>
		</ol>
		</li>
		</ul>
		<p>※両方とも例は後述</p>

		<h1 id="-">アクティビティの作り方</h1>
<h2 id="-">手順</h2>
<ol>
<li>Activity クラスの継承
 ・アクティビティは Activity クラスのサブクラスとして作る。</li>
<li>onCreate() メソッドのオーバーライド<ul>
<li>アクティビティが起動すると最初に呼ばれるメソッド「onCreate()」をオーバーライドする。</li>
<li>ここで画面に UI を設定する。</li>
</ul>
</li>
</ol>
<h2 id="-">ポイント</h2>
<ul>
<li><p>Activity#setContentView() はレイアウトファイルに定義された UI をアクティビティにセットするメソッド。
  setContentView(レイアウトファイルのリソースID)</p>
</li>
<li><p>レイアウトファイルのリソースIDは「R.layout.レイアウトファイル名」</p>
</li>
</ul>
<h2 id="-">サンプル</h2>
<p>[HelloActivity.java]</p>
<pre class="editor-colors lang-java"><div class="line"><span class="source java"><span class="meta class java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta class identifier java"><span class="storage modifier java"><span>class</span></span><span>&nbsp;</span><span class="entity name type class java"><span>HelloActivity</span></span></span><span>&nbsp;</span><span class="meta definition class inherited classes java"><span class="storage modifier extends java"><span>extends</span></span><span>&nbsp;</span><span class="entity other inherited-class java"><span>Activity</span></span><span>&nbsp;</span></span><span class="punctuation section class begin bracket curly java"><span>{</span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="storage type annotation java"><span>@Override</span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta method java"><span class="storage modifier java"><span>public</span></span><span>&nbsp;</span><span class="meta method return-type java"><span class="storage type primitive java"><span>void</span></span></span><span>&nbsp;</span><span class="meta method identifier java"><span class="entity name function java"><span>onCreate</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="storage type java"><span>Bundle</span></span><span>&nbsp;</span><span class="variable parameter java"><span>savedInstanceState</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span>&nbsp;</span><span class="punctuation section method begin bracket curly java"><span>{</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="variable language java"><span>super</span></span><span class="meta method-call java"><span class="punctuation separator period java"><span>.</span></span><span class="entity name function java"><span>onCreate</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span>savedInstanceState</span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span class="punctuation whitespace comment leading java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="comment line double-slash java"><span class="punctuation definition comment java"><span>//</span></span><span>&nbsp;レイアウトファイルを使ってアクティビティにUI部品を追加</span><span>&nbsp;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta function-call java"><span class="entity name function java"><span>setContentView</span></span><span class="punctuation definition parameters begin bracket round java"><span>(</span></span><span class="variable other object java"><span>R</span></span><span class="punctuation separator period java"><span>.</span></span><span class="variable other object property java"><span>layout</span></span><span class="punctuation separator period java"><span>.</span></span><span class="variable other property java"><span>hello</span></span><span class="punctuation definition parameters end bracket round java"><span>)</span></span></span><span class="punctuation terminator java"><span>;</span></span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="meta class body java"><span class="meta method java"><span class="meta method body java"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span></span><span class="punctuation section method end bracket curly java"><span>}</span></span></span></span></span></span></div><div class="line"><span class="source java"><span class="meta class java"><span class="punctuation section class end bracket curly java"><span>}</span></span></span></span></div></pre>
<p>[res/hello.xml]</p>
<pre class="editor-colors lang-xml"><div class="line"><span class="text xml"><span class="meta tag xml"><span class="punctuation definition tag xml"><span>&lt;</span></span><span class="entity name tag localname xml"><span>LinearLayout</span></span></span></span></div><div class="line"><span class="text xml"><span class="meta tag xml"><span>&nbsp;&nbsp;&nbsp;</span><span>&nbsp;</span><span class="entity other attribute-name namespace xml"><span>android</span></span><span class="entity other attribute-name xml"><span class="punctuation separator namespace xml"><span>:</span></span></span><span class="entity other attribute-name localname xml"><span>layout_width</span></span><span>=</span><span class="string quoted double xml"><span class="punctuation definition string begin xml"><span>&quot;</span></span><span>match_parent</span><span class="punctuation definition string end xml"><span>&quot;</span></span></span></span></span></div><div class="line"><span class="text xml"><span class="meta tag xml"><span>&nbsp;&nbsp;&nbsp;</span><span>&nbsp;</span><span class="entity other attribute-name namespace xml"><span>android</span></span><span class="entity other attribute-name xml"><span class="punctuation separator namespace xml"><span>:</span></span></span><span class="entity other attribute-name localname xml"><span>layout_height</span></span><span>=</span><span class="string quoted double xml"><span class="punctuation definition string begin xml"><span>&quot;</span></span><span>match_parent</span><span class="punctuation definition string end xml"><span>&quot;</span></span></span></span></span></div><div class="line"><span class="text xml"><span class="meta tag xml"><span>&nbsp;&nbsp;&nbsp;</span><span>&nbsp;</span><span class="entity other attribute-name namespace xml"><span>android</span></span><span class="entity other attribute-name xml"><span class="punctuation separator namespace xml"><span>:</span></span></span><span class="entity other attribute-name localname xml"><span>orientation</span></span><span>=</span><span class="string quoted double xml"><span class="punctuation definition string begin xml"><span>&quot;</span></span><span>vertical</span><span class="punctuation definition string end xml"><span>&quot;</span></span></span><span class="punctuation definition tag xml"><span>&gt;</span></span></span></span></div><div class="line"><span class="text xml"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta tag xml"><span class="punctuation definition tag xml"><span>&lt;</span></span><span class="entity name tag localname xml"><span>Button</span></span></span></span></div><div class="line"><span class="text xml"><span class="meta tag xml"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;</span><span class="entity other attribute-name namespace xml"><span>android</span></span><span class="entity other attribute-name xml"><span class="punctuation separator namespace xml"><span>:</span></span></span><span class="entity other attribute-name localname xml"><span>layout_width</span></span><span>=</span><span class="string quoted double xml"><span class="punctuation definition string begin xml"><span>&quot;</span></span><span>wrap_content</span><span class="punctuation definition string end xml"><span>&quot;</span></span></span></span></span></div><div class="line"><span class="text xml"><span class="meta tag xml"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;</span><span class="entity other attribute-name namespace xml"><span>android</span></span><span class="entity other attribute-name xml"><span class="punctuation separator namespace xml"><span>:</span></span></span><span class="entity other attribute-name localname xml"><span>layout_height</span></span><span>=</span><span class="string quoted double xml"><span class="punctuation definition string begin xml"><span>&quot;</span></span><span>wrap_content</span><span class="punctuation definition string end xml"><span>&quot;</span></span></span></span></span></div><div class="line"><span class="text xml"><span class="meta tag xml"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;</span><span class="entity other attribute-name namespace xml"><span>android</span></span><span class="entity other attribute-name xml"><span class="punctuation separator namespace xml"><span>:</span></span></span><span class="entity other attribute-name localname xml"><span>text</span></span><span>=</span><span class="string quoted double xml"><span class="punctuation definition string begin xml"><span>&quot;</span></span><span>ボタン</span><span class="punctuation definition string end xml"><span>&quot;</span></span></span><span>&nbsp;</span><span class="punctuation definition tag xml"><span>/&gt;</span></span></span></span></div><div class="line"><span class="text xml"><span>&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="meta tag xml"><span class="punctuation definition tag xml"><span>&lt;</span></span><span class="entity name tag localname xml"><span>TextView</span></span></span></span></div><div class="line"><span class="text xml"><span class="meta tag xml"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;</span><span class="entity other attribute-name namespace xml"><span>android</span></span><span class="entity other attribute-name xml"><span class="punctuation separator namespace xml"><span>:</span></span></span><span class="entity other attribute-name localname xml"><span>layout_width</span></span><span>=</span><span class="string quoted double xml"><span class="punctuation definition string begin xml"><span>&quot;</span></span><span>wrap_content</span><span class="punctuation definition string end xml"><span>&quot;</span></span></span></span></span></div><div class="line"><span class="text xml"><span class="meta tag xml"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;</span><span class="entity other attribute-name namespace xml"><span>android</span></span><span class="entity other attribute-name xml"><span class="punctuation separator namespace xml"><span>:</span></span></span><span class="entity other attribute-name localname xml"><span>layout_height</span></span><span>=</span><span class="string quoted double xml"><span class="punctuation definition string begin xml"><span>&quot;</span></span><span>wrap_content</span><span class="punctuation definition string end xml"><span>&quot;</span></span></span></span></span></div><div class="line"><span class="text xml"><span class="meta tag xml"><span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span>&nbsp;</span><span class="entity other attribute-name namespace xml"><span>android</span></span><span class="entity other attribute-name xml"><span class="punctuation separator namespace xml"><span>:</span></span></span><span class="entity other attribute-name localname xml"><span>text</span></span><span>=</span><span class="string quoted double xml"><span class="punctuation definition string begin xml"><span>&quot;</span></span><span>Hello&nbsp;World!</span><span class="punctuation definition string end xml"><span>&quot;</span></span></span><span>&nbsp;</span><span class="punctuation definition tag xml"><span>/&gt;</span></span></span></span></div><div class="line"><span class="text xml"><span class="meta tag xml"><span class="punctuation definition tag xml"><span>&lt;/</span></span><span class="entity name tag localname xml"><span>LinearLayout</span></span><span class="punctuation definition tag xml"><span>&gt;</span></span></span></span></div></pre>
<h2 id="actionbaractivity-">ActionBarActivity について</h2>
<p>アクションバーは API Level 11 から導入され、それ以前で使いたければ「Android Support Library」を使う必要がある。
API Level 11 以降の Activty クラスにはアクションバーのコードが入っているが、10 未満では Activity クラスにアクションバーのコードが入ってないので、入っている ActionBarActivity (Support Library のクラス) を使う必要がある。
※ Support Library 22 から ActionBarActivity は非推奨になり、AppCompatActivity を使うようにガイドされている。
※ Support Library 22 からは専用のアクティビティを継承せず、AppCompatDelegate を使って移譲形式でアクションバーを使うことができる。AppCompatActivity は内部で AppCompatDelegate を使っているだけ。</p>
	</body>
</html>
